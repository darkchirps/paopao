window.__require=function t(e,o,i){function n(r,c){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,o,i)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({AudioImp:[function(t,e,o){"use strict";cc._RF.push(e,"e366eMX5o5CN6mw/ksjN0PF","AudioImp"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioImp=void 0;var i=function(){function t(){this.tag="AudioImp",this.cacheAudioUrls=[]}return t.prototype.play=function(t,e,o,i,n){var a=this;void 0===i&&(i=null),void 0===n&&(n=null),cc.resources.load(t,cc.AudioClip,function(r,c){if(r)cc.error("["+a.tag+"] play "+t+" \u97f3\u4e50\u8d44\u6e90\u4e0d\u5b58\u5728\uff01");else{var s=cc.audioEngine.play(c,e,o);i&&i(s),n&&cc.audioEngine.setFinishCallback(s,function(){n&&n(s)})}})},t.prototype.playOnce=function(t,e){var o=this,i=this.cacheAudioUrls.indexOf(t);-1==i&&(this.cacheAudioUrls.push(t),this.play(t,!1,e,function(){o.cacheAudioUrls.splice(i,1)}))},t.prototype.setVolume=function(t,e,o){void 0===o&&(o=null),cc.audioEngine.setVolume(t,e),o&&o(t)},t.prototype.getVolume=function(t){return cc.audioEngine.getVolume(t)},t.prototype.stop=function(t,e){void 0===e&&(e=null),cc.audioEngine.stop(t),e&&e(t)},t.prototype.fade=function(t,e,o,i,n){var a=this;void 0===n&&(n=null),cc.tween({volume:e}).to(i,{volume:o},{progress:function(e,o,i,n){var a=e+(o-e)*n;cc.audioEngine.setVolume(t,a)}}).start().call(function(){cc.log("["+a.tag+"] "+t+" fade from = "+e+" to = "+o+" \u5b8c\u6210 "),n&&n()})},t.prototype.pause=function(t){cc.audioEngine.pause(t)},t.prototype.resume=function(t){cc.audioEngine.resume(t)},t.prototype.isPlaying=function(t){return cc.audioEngine.getState(t)===cc.audioEngine.AudioState.PLAYING},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t}();o.AudioImp=i,cc._RF.pop()},{}],AudioManage:[function(t,e,o){"use strict";cc._RF.push(e,"788echgBxlJY67nFWAAYpGQ","AudioManage"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioMg=void 0;var i=t("../gameScene"),n=function(){function t(){}return t.getInstance=function(){return t.Instance||(t.Instance=new t),t.Instance},t.prototype.pauseMusic=function(){i.default.audio.pauseMusic()},t.prototype.resumeMusic=function(){i.default.audio.resumeMusic("")},t.prototype.gamePlayBgm=function(){i.default.audio.playMusic("sound/bg_music",!0)},t.prototype.gameCloseBgm=function(){i.default.audio.stopMusic()},t.prototype.buttonAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/button")},t.prototype.exchangeButtonAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/exchange")},t.prototype.shootAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/shoot")},t.prototype.strikeAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/strike")},t.prototype.eliminateAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/eliminate")},t.prototype.fireAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/fire")},t.prototype.fireCloseAudio=function(){i.default.Data.sound&&i.default.audio.stopEffect("sound/fire")},t.prototype.bombAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/bomb")},t.prototype.bombCloseAudio=function(){i.default.Data.sound&&i.default.audio.stopEffect("sound/bomb")},t.prototype.dianAudio=function(){i.default.Data.sound&&i.default.audio.playEffect("sound/lightning")},t.Instance=new t,t}();o.default=n,o.AudioMg=n.getInstance(),cc._RF.pop()},{"../gameScene":"gameScene"}],Audio:[function(t,e,o){"use strict";cc._RF.push(e,"b168a7+yRdPJ5wbeMUoHC2d","Audio"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManager=void 0;var i=t("../common/Utils"),n=t("./AudioImp"),a=function(){function t(){this.curMusic={},this.effectDict={},this.todoMusicUrl=null,this._audioEngine=null,this.musicId=null,this._poping=!1,this.AUDIO_VOLUME=1,this._musicSwitch=!0,this._effectSwitch=!0,this.cacheAudioUrls=[];var t=JSON.parse(i.Utils.getStorage("music")),e=JSON.parse(i.Utils.getStorage("sound"));this.musicSwitch=t||!0,this.effectSwitch=e||!0}return Object.defineProperty(t.prototype,"audioEngine",{get:function(){return this._audioEngine||(this._audioEngine=new n.AudioImp),this._audioEngine},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poping",{get:function(){return this._poping},set:function(t){this._poping=t,this.musicSwitch&&this.setMusicVolume(t?.3:1)},enumerable:!1,configurable:!0}),t.prototype.setMusicVolume=function(t){null!=this.curMusic.id&&this.audioEngine.setVolume(this.curMusic.id,t)},t.prototype.getMusicVolume=function(){return this.musicSwitch?this.AUDIO_VOLUME:0},t.prototype.getEffectVolume=function(){return this.effectSwitch?this.AUDIO_VOLUME:0},Object.defineProperty(t.prototype,"musicSoundSwitch",{set:function(t){this.musicSwitch=t,this.effectSwitch=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"musicSwitch",{get:function(){return this._musicSwitch},set:function(t){if(this._musicSwitch=t,t){this.todoMusicUrl&&null==this.curMusic.id&&this.playMusic(this.todoMusicUrl);var e=this.getMusicVolume();this.setMusicVolume(e)}else this.todoMusicUrl=this.curMusic.url,this.setMusicVolume(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effectSwitch",{get:function(){return this._effectSwitch},set:function(t){if(this._effectSwitch=t,t){var e=this.getEffectVolume();this.setEffectsVolume(e)}else this.setEffectsVolume(0)},enumerable:!1,configurable:!0}),t.prototype.playMusic=function(e,o,i){var n=this;void 0===o&&(o=!0),void 0===i&&(i=null),null!=this.curMusic.id&&this.stopMusic(),cc.audioEngine.stopAll(),function(){try{n.playMusicWithFade(e,o,n.getMusicVolume(),t.FadeDuration,function(t){n.curMusic={id:t,url:e}},i)}catch(a){cc.warn(a)}}()},t.prototype.playMusicWithFade=function(t,e,o,i,n,a){var r=this;void 0===n&&(n=null),void 0===a&&(a=null),this.audioEngine.play(t,e,0,function(t){n&&n(t),r.audioEngine.fade(t,0,o,i,function(){a&&a()})})},t.prototype.stopMusicWithFade=function(t,e){void 0===e&&(e=null);var o=this.curMusic.id;this.audioEngine.fade(o,this.getMusicVolume(),0,t,function(){e&&e()})},t.prototype.pauseMusictWithFade=function(){var e=this;this.curMusic.id&&this.audioEngine.fade(this.curMusic.id,this.getMusicVolume(),0,t.FadeDuration,function(){e.audioEngine.pause(e.curMusic.id),e.curMusic.paused=!0})},t.prototype.resumeMusicWithFade=function(e){this.curMusic.id?this.curMusic.paused&&(this.audioEngine.resume(this.curMusic.id),this.audioEngine.fade(this.curMusic.id,0,this.getMusicVolume(),t.FadeDuration),this.curMusic.paused=!1):this.playMusic(e,!0)},t.prototype.pauseMusic=function(){null!=this.curMusic.id&&this.audioEngine.pause(this.curMusic.id)},t.prototype.resumeMusic=function(t){null!=this.curMusic.id?this.audioEngine.resume(this.curMusic.id):t&&this.playMusic(t)},t.prototype.stopMusic=function(){this.todoMusicUrl=null,this.stopMusicWithFade(t.FadeDuration)},t.prototype.playEffect=function(t,e,o){var i=this;void 0===e&&(e=!1),void 0===o&&(o=null);try{this.audioEngine.play(t,e,this.getEffectVolume(),function(e){i.effectDict[e]={id:e,url:t,timer:null}},function(t){o&&o(t),delete i.effectDict[t]})}catch(n){cc.warn(n)}},t.prototype.playEffectOnce=function(t,e){var o=this;void 0===e&&(e=!1);var i=this.cacheAudioUrls.indexOf(t);-1==i&&(this.cacheAudioUrls.push(t),this.playEffect(t,e,function(){o.cacheAudioUrls.splice(i,1)}))},t.prototype.setEffectVolume=function(t,e){var o=this.getEffectInfo(t);o&&this.audioEngine.setVolume(o.id,e)},t.prototype.getEffectInfo=function(t){for(var e in this.effectDict)if(this.effectDict[e].url==t||this.effectDict[e].id==t)return this.effectDict[e];return null},t.prototype.stopEffect=function(t){for(var e in this.effectDict){var o=this.effectDict[e];o.id!=t&&o.url!=t||(this.audioEngine.stop(o.id),delete this.effectDict[e])}},t.prototype.stopAllEffects=function(){for(var t in this.effectDict){var e=this.effectDict[t];this.audioEngine.stop(e.id)}this.effectDict={}},t.prototype.setEffectsVolume=function(t){for(var e in this.effectDict)this.audioEngine.setVolume(parseInt(e),t)},t.prototype.setOneEffectVolume=function(t,e){for(var o in this.effectDict)o==t.toString()&&this.audioEngine.setVolume(t,e)},t.prototype.resumeAll=function(){this.audioEngine.resumeAll()},t.prototype.halfMusicVolmue=function(){null!=this.curMusic.id&&this.audioEngine.setVolume(this.curMusic.id,this.getMusicVolume()/2)},t.prototype.resumeMusicVolmue=function(){null!=this.curMusic.id&&this.audioEngine.setVolume(this.curMusic.id,this.getMusicVolume())},t.prototype.pauseAll=function(){this.audioEngine.pauseAll()},t.prototype.destroy=function(){this.stopAllEffects(),this.curMusic.id&&this._audioEngine.stop(this.curMusic.id),this.curMusic=null,this.effectDict=null,this._audioEngine=null},t.FadeDuration=.1,t}();o.AudioManager=a,cc._RF.pop()},{"../common/Utils":"Utils","./AudioImp":"AudioImp"}],DataBase:[function(t,e,o){"use strict";cc._RF.push(e,"cca6ca3RR1GrZw26XQK7fwl","DataBase");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Utils"),r=function(t){function e(e){var o=t.call(this,Object.assign(e,{isFirst:"boolean"!=typeof JSON.parse(a.Utils.getStorage("isFirst"))||JSON.parse(a.Utils.getStorage("isFirst")),music:"boolean"!=typeof JSON.parse(a.Utils.getStorage("music"))||JSON.parse(a.Utils.getStorage("music")),sound:"boolean"!=typeof JSON.parse(a.Utils.getStorage("sound"))||JSON.parse(a.Utils.getStorage("sound")),replay:"boolean"==typeof JSON.parse(a.Utils.getStorage("replay"))&&JSON.parse(a.Utils.getStorage("replay")),score:Number(a.Utils.getStorage("score"))||-1}))||this;return o.specialWatch=[],o}return n(e,t),Object.defineProperty(e.prototype,"isFirst",{get:function(){return this.mvvm.data.isFirst},set:function(t){this.mvvm.data.isFirst=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"music",{get:function(){return this.mvvm.data.music},set:function(t){this.mvvm.data.music=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sound",{get:function(){return this.mvvm.data.sound},set:function(t){this.mvvm.data.sound=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"replay",{get:function(){return this.mvvm.data.replay},set:function(t){this.mvvm.data.replay=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"score",{get:function(){return this.mvvm.data.score},set:function(t){this.mvvm.data.score=t},enumerable:!1,configurable:!0}),e.prototype.watchSingle=function(){var t=this.mvvm.data,e=function(e){Object.prototype.hasOwnProperty.call(t,e)&&-1==o.specialWatch.indexOf(e)&&o.watch(e,function(t){a.Utils.setStorage(e,JSON.stringify(t))},o)},o=this;for(var i in t)e(i)},e}(t("../mvvm/GameViewModel").default);o.default=r,cc._RF.pop()},{"../common/Utils":"Utils","../mvvm/GameViewModel":"GameViewModel"}],DataManage:[function(t,e,o){"use strict";cc._RF.push(e,"131b7dh3IlN4b8d2PK1c/s6","DataManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/Utils"),r=t("./DataBase"),c=function(){return{share1:"1",share2:"2",share3:"3",share4:"4",share5:"5"}},s=function(){return{FriendId:[],FriendName:[],FriendHead:[]}},l=function(){return{openTime:[],maxScore:[]}},u=function(t){function e(){var e=t.call(this,{FBShareSprite:a.Utils.getStorage("FBShareSprite")?JSON.parse(a.Utils.getStorage("FBShareSprite")):c(),FBUserId:a.Utils.getStorage("FBUserId")?JSON.parse(a.Utils.getStorage("FBUserId")):null,FBPlayerHead:a.Utils.getStorage("FBPlayerHead")?JSON.parse(a.Utils.getStorage("FBPlayerHead")):null,FBPause:Number(a.Utils.getStorage("FBPause"))||1,FBReward:"boolean"==typeof JSON.parse(a.Utils.getStorage("FBReward"))&&JSON.parse(a.Utils.getStorage("FBReward")),FBRewardInter:"boolean"==typeof JSON.parse(a.Utils.getStorage("FBRewardInter"))&&JSON.parse(a.Utils.getStorage("FBRewardInter")),FBFriend:a.Utils.getStorage("FBFriend")?JSON.parse(a.Utils.getStorage("FBFriend")):s(),FBRanking:a.Utils.getStorage("FBRanking")?JSON.parse(a.Utils.getStorage("FBRanking")):l()})||this;return e.watchSingle(),e}return n(e,t),Object.defineProperty(e.prototype,"FBRanking",{get:function(){return this.mvvm.data.FBRanking},set:function(t){this.mvvm.data.FBRanking=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBFriend",{get:function(){return this.mvvm.data.FBFriend},set:function(t){this.mvvm.data.FBFriend=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBShareSprite",{get:function(){return this.mvvm.data.FBShareSprite},set:function(t){this.mvvm.data.FBShareSprite=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBUserId",{get:function(){return this.mvvm.data.FBUserId},set:function(t){this.mvvm.data.FBUserId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBPlayerHead",{get:function(){return this.mvvm.data.FBPlayerHead},set:function(t){this.mvvm.data.FBPlayerHead=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBPause",{get:function(){return this.mvvm.data.FBPause},set:function(t){this.mvvm.data.FBPause=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBReward",{get:function(){return this.mvvm.data.FBReward},set:function(t){this.mvvm.data.FBReward=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"FBRewardInter",{get:function(){return this.mvvm.data.FBRewardInter},set:function(t){this.mvvm.data.FBRewardInter=t},enumerable:!1,configurable:!0}),e.prototype.destory=function(){this.unwatchTargetAll(this)},e}(r.default);o.default=u,cc._RF.pop()},{"../common/Utils":"Utils","./DataBase":"DataBase"}],GameViewModel:[function(t,e,o){"use strict";cc._RF.push(e,"c9be92GoLRI7rwnZk9XfRYu","GameViewModel"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./MVVM"),n=function(){function t(t){this.mvvm=null,this.mvvm=new i.MVVM,this.mvvm.data=t}return t.prototype.watch=function(t,e,o){return void 0===o&&(o=null),this.mvvm.watch(t,e,o)},t.prototype.unwatch=function(t,e){return this.mvvm.unwatch(t,e)},t.prototype.unwatchTargetAll=function(t){this.mvvm.unwatchTargetAll(t)},t}();o.default=n,cc._RF.pop()},{"./MVVM":"MVVM"}],HashMap:[function(t,e,o){"use strict";cc._RF.push(e,"278903HWYFLsZHjIYCdkQGD","HashMap"),Object.defineProperty(o,"__esModule",{value:!0}),o.HashMap=void 0;var i=function(){function t(){this._keys=[],this._values=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t.prototype.has=function(t){return this._keys.indexOf(t)>=0},t.prototype.set=function(t,e){var o=this._keys.indexOf(t);return o<0?(this._keys.push(t),this._values.push(e)):this._values[o]=e,this},t.prototype.get=function(t){var e=this._keys.indexOf(t);return e>=0?this._values[e]:null},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return e>=0&&(this._keys.splice(e,1),this._values.splice(e,1),!0)},t.prototype.keys=function(){return this._keys.slice()},t.prototype.values=function(){return this._values.slice()},t.prototype.getOriginValues=function(){return this._values.slice()},t.prototype.clear=function(){this._keys=[],this._values=[]},t.prototype.forEach=function(t){var e=this;this.keys().forEach(function(o,i){t(e._values[i],o,e)})},Object.defineProperty(t.prototype,"objects",{get:function(){for(var t={},e=0;e<this._keys.length;++e)t[this._keys[e]]=this._values[e];return t},enumerable:!1,configurable:!0}),t}();o.HashMap=i,cc._RF.pop()},{}],ListSpfs:[function(t,e,o){"use strict";cc._RF.push(e,"e3c053kgQJBjpv9mB5th/Ib","ListSpfs");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=r.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfs=[],e.idx=0,e.idx1=0,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.getSpf=function(t){return this.spfs[t]},e.prototype.setSpf=function(t){this.idx=t;var e=this.node.getComponent(cc.Sprite);e&&(e.spriteFrame=this.spfs[t])},e.prototype.setSpf1=function(t){this.idx1=t;var e=this.node.getComponent(cc.Sprite);e&&(e.spriteFrame=this.spfs[t])},a([s(cc.SpriteFrame)],e.prototype,"spfs",void 0),a([c,l("\u5e38\u7528\u7ec4\u4ef6/ListSpfs")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],MVVM:[function(t,e,o){"use strict";cc._RF.push(e,"2f8343sFANDJp6EswsddEnQ","MVVM"),Object.defineProperty(o,"__esModule",{value:!0}),o.MVVM=void 0;var i=t("../common/HashMap"),n=t("./Observer"),a=function(){function t(){this.observer=null,this._data={},this._keyHash=new i.HashMap,this._handlerKeys={}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.observer&&this.observer.release(),this.observer=new n.Observer(t,this._handler.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lock",{set:function(t){this.observer&&(this.observer.lock=t)},enumerable:!1,configurable:!0}),t.prototype._handler=function(t,e,o,i){this._handlerKeys[e];var n=o===i,a=this._keyHash.get(e);if(a){this._handlerKeys[e]=!0;for(var r=0;r<a.length;r++){var c=a[r].target,s=a[r].handler;a[r].weekWatch&&n||(c?s.call(c,i,o):s(i,o))}delete this._handlerKeys[e]}},t.prototype.alwaysWatch=function(t,e,o){if(void 0===o&&(o=null),this._data.hasOwnProperty(t)){var i=this._keyHash.get(t);if(i)for(var n=0;n<i.length;n++){var a=i[n].target,r=i[n].handler;if(o===a&&e===r)return void cc.warn("MVVM \u5df2\u7ecf\u6ce8\u518c")}else i=[],this._keyHash.set(t,i);var c={target:o,handler:e,key:t,weekWatch:!1};this._keyHash.get(t).push(c),this._handlerKeys[t]=!0,o?e.call(o,this._data[t],null):e(this._data[t],null),delete this._handlerKeys[t]}},t.prototype.watch=function(t,e,o){if(void 0===o&&(o=null),this._data.hasOwnProperty(t)){var i=this._keyHash.get(t);if(i)for(var n=0;n<i.length;n++){var a=i[n].target,r=i[n].handler;if(o===a&&e===r)return void cc.warn("MVVM \u5df2\u7ecf\u6ce8\u518c")}else i=[],this._keyHash.set(t,i);var c={target:o,handler:e,key:t,weekWatch:!0};this._keyHash.get(t).push(c),this._handlerKeys[t]=!0,o?e.call(o,this._data[t],null):e(this._data[t],null),delete this._handlerKeys[t]}else cc.error("\u9519\u8bef\u8c03\u7528\uff0cViewModel\u6ca1\u6709\u8be5\u5c5e\u6027\uff01",t)},t.prototype.unwatch=function(t,e){void 0===e&&(e=null);var o=this._keyHash.get(t);if(o)for(var i=0;i<o.length;i++)o[i].target===e&&o.splice(i,1)},t.prototype.unwatchTargetAll=function(t){void 0===t&&(t=null),this._keyHash.forEach(function(e){for(var o=0;o<e.length;o++)e[o].target===t&&e.splice(o,1)})},t.prototype.release=function(){this._keyHash.clear(),this._keyHash=null,this.observer.release(),this.observer=null,this._data=null},t}();o.MVVM=a,cc._RF.pop()},{"../common/HashMap":"HashMap","./Observer":"Observer"}],ModuleManager:[function(t,e,o){"use strict";cc._RF.push(e,"9ecf5+4DTVBP6xjDNbHcbBZ","ModuleManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.ModuleManager=void 0;var i=t("../common/HashMap");o.ModuleManager=function(){this.dataMg=null,this.cacheRes=new i.HashMap},cc._RF.pop()},{"../common/HashMap":"HashMap"}],Observer:[function(t,e,o){"use strict";cc._RF.push(e,"8548bSwoR9MtY+xjREpip3A","Observer"),Object.defineProperty(o,"__esModule",{value:!0}),o.Observer=void 0;var i=function(){function t(t,e){this.data=null,this.lock=!1,this.data=t,this.propertyChangeCallback=e,this.walk(t)}return t.prototype.walk=function(t){var e=this;Object.keys(t).forEach(function(o){e.defineReactive(t,o,t[o])})},t.prototype.defineReactive=function(t,e,o){var i=this.propertyChangeCallback,n=o,a=this;Object.defineProperty(t,e,{enumerable:!0,configurable:!1,get:function(){return n},set:function(o){if(!a.lock){var r=n;n=o,i&&i(t,e,r,o)}}})},t.prototype.release=function(){this.data=null,this.propertyChangeCallback=null},t}();o.Observer=i,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"5dce2xWU+FETLhH7OdIt9a+","Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var i=t("./HashMap"),n=function(){function t(){}return t.Clone=function(t){var e=JSON.stringify(t);return e?JSON.parse(e):e},t.loadRes=function(t,e,o){cc.resources.load(t,e,function(e,i){e?cc.warn("load res error ===========",t):o(i)})},t.convertNodeSpaceAR=function(t,e){return cc.v2(t.parent.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)))},t.playPopupAniIn=function(t,e,o){t&&(t.scale=0,cc.tween(t).to(e,{scale:1},cc.easeBackOut()).call(function(){o&&o()}).start())},t.nodeTreeInfoLite=function(e,o,n){var a=n;if(isNaN(a)&&(a=99),!(a<1)){--a;for(var r=o||new i.HashMap,c=e.children,s=0;s<c.length;s++){var l=c[s];l.name.indexOf(" ")<0&&r.set(l.name,l),t.nodeTreeInfoLite(c[s],r,a)}return r}},t.setStorage=function(t,e){""!=t&&cc.sys.localStorage.setItem(t,e)},t.getStorage=function(t){if(""!=t)return cc.sys.localStorage.getItem(t)},t.clearLocalStorage=function(){cc.sys.localStorage.clear()},t.isIpad=function(){return(cc.winSize.width-1)/cc.winSize.height<=16/9},t.strToBinary=function(t){for(var e=[],o=t.split(""),i=0;i<o.length;i++){0!=i&&e.push(" ");var n=o[i].charCodeAt().toString(2);e.push(n)}return e.join("")},t.BinaryToStr=function(t){for(var e=[],o=t.split(" "),i=0;i<o.length;i++){var n=o[i],a=parseInt(n,2),r=String.fromCharCode(a);e.push(r)}return e.join("")},t.GetViewAspetRatio=function(t){var e=cc.v2(1280,720),o=cc.v2(cc.view.getCanvasSize().width,cc.view.getCanvasSize().height),i=o.y/e.y,n=o.x/e.x;return 0==t?i>=n?n:i:1==t?n:i},t}();o.Utils=n,cc._RF.pop()},{"./HashMap":"HashMap"}],ball:[function(t,e,o){"use strict";cc._RF.push(e,"a6950IDc1tOmLUBbSE5xJ3S","ball");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../common/ListSpfs"),c=t("../game/bg"),s=t("../game/bubbleNode"),l=t("../game/util"),u=t("../gameScene"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ani=null,e.er=null,e.aniName=["hongbomb","huangbomb","lanbomb","lvbomb","zibomb"],e.failStart=0,e.warningStart=0,e}var o;return n(e,t),o=e,e.prototype.init=function(t,e,o){t.node.addChild(this.node),this.parent=t,this.node.position=e;var i=l.default.mathSurplus(o,10),n=l.default.mathQuotient(o,10);0==i?(this.node.getComponent(cc.CircleCollider).enabled=!1,this.node.getComponent(cc.RigidBody).active=!1,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1):(this.node.getComponent(cc.CircleCollider).enabled=!0,this.node.getComponent(cc.RigidBody).active=!0,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!0),0==n&&(this.er.active=!1),this.node.getComponent(r.default).setSpf(i),this.er.getComponent(r.default).setSpf1(n)},e.prototype.playDeathAnimation=function(t){if(t<6){var e=this.ani.getComponent(cc.Animation);e.getComponent(cc.Animation).on("finished",function(){this.ani.getComponent(cc.Sprite).spriteFrame=null},this),e.getComponent(cc.Animation).play(this.aniName[t-1])}},e.prototype.removeDian=function(){var t=this;this.node&&(this.scheduleOnce(function(){t.node.getComponent(cc.RigidBody).active=!1,t.node.getComponent(cc.PhysicsCircleCollider).enabled=!1},.1),this.node.getComponent(r.default).setSpf(0),this.er.getComponent(r.default).setSpf1(0),this.node.getComponent(cc.CircleCollider).enabled=!1)},e.prototype.removeSelf=function(t){var e=this;void 0===t&&(t=""),this.node&&("bomb"==t?this.scheduleOnce(function(){e.node.getComponent(cc.RigidBody).active=!1,e.node.getComponent(cc.PhysicsCircleCollider).enabled=!1},.3):(this.node.getComponent(cc.RigidBody).active=!1,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1),"\u4e0b\u843d\u52a8\u753b"==t?(this.node.getComponent(cc.CircleCollider).enabled=!1,this.scheduleOnce(function(){e.node.getComponent(r.default).setSpf(0),e.er.getComponent(r.default).setSpf1(0)},.2)):(this.node.getComponent(r.default).setSpf(0),this.er.getComponent(r.default).setSpf1(0),this.node.getComponent(cc.CircleCollider).enabled=!1))},e.prototype.playDownAnimation=function(){this.removeSelf("\u4e0b\u843d\u52a8\u753b"),this.node.runAction(cc.spawn(cc.moveBy(.2,0,-150),cc.fadeOut(.2)))},e.prototype.onCollisionEnter=function(t,e){var i=this;if("fail"==t.node._name)101==t.tag&&(this.failStart=1,this.scheduleOnce(function(){i.failStart=0},2.6)),100!=t.tag||1!=this.failStart||l.default.gameOver||(l.default.gameOver=!0,u.default.rNode.getChildByName("bg").getComponent(c.default).addRelivePage());else if("warning"==t.node._name&&44==t.tag)l.default.warning=!0;else if("warning"==t.node._name&&.6!=l.default.speed&&51==t.tag&&l.default.moveOpen)l.default.speed=.6;else if("shootBall"==t.node._name&&9==t.tag&&(e.node.getComponent(r.default).idx,l.default.PosToRowCol(e.node.x,e.node.y),!l.default.shooting)){t.node.destroy();var n=t.node.convertToWorldSpaceAR(cc.v2(0,-640-l.default.XH/2)),a=l.default.PosToRowCol(n.x,n.y),d=t.node.getComponent(r.default).idx;l.default.shooting=!0;var p=e.node.parent.getComponent(s.default),h=cc.instantiate(e.node),f=l.default.RowColToPos(a.x,a.y);h.getComponent(r.default).setSpf(d),h.getComponent(o).er.active=!1,h.position=f,e.node.parent.addChild(h);var g=Object.create(null);g.node=h,g.color=l.default.mathSurplus(d,10),g.second=0,g.isVisited=!1,g.isLinked=!1,0==g.color?g.isBall=!1:g.isBall=!0,p.ballArray[a.x][a.y].node.opacity=0,p.ballArray[a.x][a.y]=g,p.getDianBall(a),p.mapColor(a,d)}},e.prototype.onBeginContact=function(t,e,i){var n=this,a=l.default.PosToRowCol(e.node.x,e.node.y);if(e.node.getComponent(r.default).idx,"fireBall"==i.node._name){var c=(p=e.node.parent.getComponent(s.default)).ballArray[a.x][a.y];p.showscore(c.node),c.color=0,c.node.getComponent(r.default).setSpf(0),c.node.getComponent(o).er.active=!1,c.isVisited=!1,c.second=0,c.isBall=!1,c.isLinked=!1,this.scheduleOnce(function(){n.node.getComponent(cc.RigidBody).active=!1,n.node.getComponent(cc.PhysicsCircleCollider).enabled=!1,n.node.getComponent(cc.CircleCollider).enabled=!1},.1)}else if("bombBall"==i.node._name){var u=i.node.convertToWorldSpaceAR(cc.v2(0,-640-l.default.XH/2)),d=l.default.PosToRowCol(u.x,u.y);(p=e.node.parent.getComponent(s.default)).mapBomb(d)}else if("caiBall"==i.node._name){var p;i.node.destroy(),u=i.node.convertToWorldSpaceAR(cc.v2(0,-640-l.default.XH/2)),d=l.default.PosToRowCol(u.x,u.y),(p=e.node.parent.getComponent(s.default)).getDianBall(d),p.mapCaiqiu(d)}},a([h(cc.Node)],e.prototype,"ani",void 0),a([h(cc.Node)],e.prototype,"er",void 0),o=a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../common/ListSpfs":"ListSpfs","../game/bg":"bg","../game/bubbleNode":"bubbleNode","../game/util":"util","../gameScene":"gameScene"}],bg:[function(t,e,o){"use strict";cc._RF.push(e,"92af67BwzFK6LR/068/FoJC","bg");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../common/HashMap"),s=t("../common/Utils"),l=t("../gameScene"),u=t("./bubbleNode"),d=t("./util"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.bubbleNode=null,e.shoot=null,e.wall=null,e.warning=null,e.fail=null,e.top=null,e.bottom=null,e.loading=null,e.page=null,e.guide=null,e.pause=null,e.relive=null,e.failPage=null,e.tipsNode=null,e.countPage=null,e.juli=800,e.mainNodes=new c.HashMap,e.num=0,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.view.getVisibleSize().height,e=cc.view.getVisibleSize().width;d.default.ScreenH=t,d.default.ScreenW=e,d.default.XH=d.default.ScreenH-1280,this.top.y=d.default.XH/2+this.top.y,this.bottom.y=this.bottom.y-d.default.XH/2,this.shoot.y=this.shoot.y-d.default.XH/2,this.fail.y=this.fail.y-d.default.XH/2,this.wall.y=this.wall.y+d.default.XH/2,this.warning.y=this.warning.y-d.default.XH/2+d.default.warningY,cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabledAccumulator=!0,this.bubbleNode.getComponent(u.default).init(),l.default.Data.isFirst&&this.page.addChild(cc.instantiate(this.guide)),this.node.y+=this.juli,this.camera.y+=this.juli,this.shoot.y+=this.juli,this.wall.y+=this.juli,this.warning.y+=this.juli,this.fail.y+=this.juli,this.top.y+=this.juli,this.bottom.y+=this.juli,this.loading.y+=this.juli,this.page.y+=this.juli,this.countPage.y+=this.juli},e.prototype.start=function(){this.mainNodes=s.Utils.nodeTreeInfoLite(this.node)},e.prototype.pauseBtn=function(){r.AudioMg.buttonAudio(),d.default.gamePause=!0,this.page.addChild(cc.instantiate(this.pause)),this.node.stopAllActions(),this.camera.stopAllActions(),this.shoot.stopAllActions(),this.wall.stopAllActions(),this.warning.stopAllActions(),this.fail.stopAllActions(),this.top.stopAllActions(),this.bottom.stopAllActions(),this.page.stopAllActions(),this.countPage.stopAllActions()},e.prototype.showNoAds=function(){var t=cc.instantiate(this.tipsNode);this.page.addChild(t),t.getComponent("tipsNode").onWaringAdsNotReady(null)},e.prototype.addRelivePage=function(){d.default.reliveNum>=2&&!d.default.reliveIng?this.addFailPage():this.page.addChild(cc.instantiate(this.relive))},e.prototype.ReliveSuc=function(){d.default.reliveIng=!0,d.default.reliveNum++,d.default.gameOver=!1,this.node.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.camera.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.shoot.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.wall.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.warning.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.fail.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.top.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.bottom.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.page.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),this.countPage.runAction(cc.moveBy(2,cc.v2(0,d.default.reliveH))),d.default.shooted=!1,this.scheduleOnce(function(){d.default.reliveIng=!1},2)},e.prototype.addFailPage=function(){this.page.addChild(cc.instantiate(this.failPage))},e.prototype.update=function(t){cc.PhysicsManager.FIXED_TIME_STEP=1/60,cc.PhysicsManager.VELOCITY_ITERATIONS=10,cc.PhysicsManager.POSITION_ITERATIONS=10,this.num+=t,this.num>.033&&(this.num=0,!d.default.shooted||d.default.gameOver||d.default.gamePause||(l.default.Data.isFirst=!1,this.page.getChildByName("guide")&&this.page.getChildByName("guide").destroy(),this.node.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.camera.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.shoot.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.wall.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.warning.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.fail.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.top.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.bottom.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.page.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed))),this.countPage.runAction(cc.moveBy(.03,cc.v2(0,d.default.speed)))),d.default.warning&&(this.scheduleOnce(function(){d.default.warning=!1},.5),this.fail.getChildByName("Sprite").runAction(cc.sequence(cc.fadeTo(.25,200),cc.fadeTo(.25,80),cc.fadeTo(.25,200),cc.fadeTo(.25,80),cc.fadeTo(.25,0)))))},a([f(cc.Node)],e.prototype,"camera",void 0),a([f(cc.Node)],e.prototype,"bubbleNode",void 0),a([f(cc.Node)],e.prototype,"shoot",void 0),a([f(cc.Node)],e.prototype,"wall",void 0),a([f(cc.Node)],e.prototype,"warning",void 0),a([f(cc.Node)],e.prototype,"fail",void 0),a([f(cc.Node)],e.prototype,"top",void 0),a([f(cc.Node)],e.prototype,"bottom",void 0),a([f(cc.Node)],e.prototype,"loading",void 0),a([f(cc.Node)],e.prototype,"page",void 0),a([f(cc.Prefab)],e.prototype,"guide",void 0),a([f(cc.Prefab)],e.prototype,"pause",void 0),a([f(cc.Prefab)],e.prototype,"relive",void 0),a([f(cc.Prefab)],e.prototype,"failPage",void 0),a([f(cc.Prefab)],e.prototype,"tipsNode",void 0),a([f(cc.Node)],e.prototype,"countPage",void 0),a([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../common/HashMap":"HashMap","../common/Utils":"Utils","../gameScene":"gameScene","./bubbleNode":"bubbleNode","./util":"util"}],bombBall:[function(t,e,o){"use strict";cc._RF.push(e,"88d66lFXO5FZb6D2b6fZ/TI","bombBall");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../game/util"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onBeginContact=function(t,e,o){r.AudioMg.bombAudio(),"wall"==o.node._name&&1==o.tag?(c.default.topBall=!0,e.node.destroy()):"ball"==o.node._name&&(e.node.getChildByName("ani").getComponent(cc.Animation).play(),e.node.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),this.scheduleOnce(function(){e.node.destroy()},.5))},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../game/util":"util"}],bubbleNode:[function(t,e,o){"use strict";cc._RF.push(e,"39adel218pHxLWP373CLwem","bubbleNode");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../prefab/ball"),c=t("../common/ListSpfs"),s=t("./shoot"),l=t("./util"),u=t("../audio/AudioManage"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.comboPage=null,e.defen=null,e.shoot=null,e.score=null,e.mapDataTest=null,e.mapData=[],e.ballPre=null,e.ballArray=[],e.ballArraySec=[],e.dianBallRemove=!1,e.dianBallPos=cc.v2(0,0),e}return n(e,t),e.prototype.init=function(){var t;t=l.default.testGm?this.mapDataTest.json.data:0==l.default.randNum(0,1)?this.mapData[0].json.data:this.mapData[2].json.data,l.default.ballLength=t.length;for(var e=0;e<t.length;e++){this.ballArray[e]=[];for(var o=0;o<t[e].length;o++){var i=cc.instantiate(this.ballPre),n=l.default.RowColToPos(e,o);i.getComponent(r.default).init(this,n,t[e][o]);var a=t[e][o],c=Object.create(null);c.node=i,c.color=l.default.mathSurplus(a,10),c.second=l.default.mathQuotient(a,10),c.isVisited=!1,c.isLinked=!1,0==c.color?c.isBall=!1:c.isBall=!0,this.ballArray[e][o]=c}}},e.prototype.comboShow=function(){this.comboPage.getChildByName("countNum").getComponent(cc.Label).string=l.default.count.toString(),this.comboPage.runAction(cc.sequence(cc.scaleTo(.3,.7),cc.scaleTo(.7,.7),cc.fadeOut(.7),cc.scaleTo(.1,0),cc.fadeTo(.1,255)))},e.prototype.mapColor=function(t,e){var o=this;if(this.dianBallRemove)this.mapDian();else{var i=function(t,e,n){var a=o.ballArray[t][e];o.ballArray[t]&&o.ballArray[t][e]&&!a.isVisited&&a.isBall&&a.color===n&&(a.isVisited=!0,i(t-1,e,n),i(t,e-1,n),i(t,e+1,n),i(t+1,e,n),t%2==0?(i(t-1,e-1,n),i(t+1,e-1,n)):(i(t-1,e+1,n),i(t+1,e+1,n)))};i(t.x,t.y,e);for(var n=0,a=[],s=this.ballArray.length-1;s>0;s--)for(var d=0;d<this.ballArray[s].length;d++)this.ballArray[s][d]&&0!=this.ballArray[s][d].color&&this.ballArray[s][d].isVisited&&(n++,a.push(cc.v2(s,d)));if(n>=3){l.default.count++,this.comboShow();var p=0,h=function(t){p++,f.scheduleOnce(function(){u.AudioMg.eliminateAudio()},p/n/2.8);var e=f.ballArray[a[t].x][a[t].y];0==e.second&&(e.isVisited=!1,e.second=0,e.isBall=!1,e.node.getComponent(r.default).playDeathAnimation(e.color),f.scheduleOnce(function(){e.color=0},.2),e.node.getComponent(r.default).removeSelf()),1==e.second&&(e.node.getChildByName("suo").active=!0,e.node.getChildByName("suo").getComponent(sp.Skeleton).setAnimation(0,"add2",!1),f.scheduleOnce(function(){e.isVisited=!1,e.second=0,e.node.getChildByName("2").getComponent(c.default).setSpf1(0),e.node.getChildByName("suo").active=!1},.2)),2==e.second&&(e.node.getChildByName("suo").active=!0,e.node.getChildByName("suo").getComponent(sp.Skeleton).setAnimation(0,"add",!1),f.scheduleOnce(function(){e.isVisited=!1,e.second=1,e.node.getChildByName("2").getComponent(c.default).setSpf1(1),e.node.getChildByName("suo").active=!1},.2)),f.showscore(e.node)},f=this;for(var g in a)h(g)}else for(var g in l.default.count=0,u.AudioMg.strikeAudio(),a)this.ballArray[a[g].x][a[g].y].isVisited=!1;this.scheduleOnce(this.emptyDetection,.4)}},e.prototype.moveMapData=function(){var t=this.shoot.convertToWorldSpaceAR(cc.v2(0,0)),e=this.getLeastRow(),o=this.ballArray[e][0].node.convertToWorldSpaceAR(cc.v2(0,0));t.y+500<o.y&&(l.default.speed=3)},e.prototype.emptyDetection=function(){var t=this;this.dianBallRemove=!1,this.scheduleOnce(function(){t.addRowData()},.5);var e,o=function(e,i){if(t.ballArray[e]&&t.ballArray[e][i]&&0!=t.ballArray[e][i].color){var n=t.ballArray[e][i];n.isVisited||(n.isVisited=!0,n.isLinked=!0,o(e-1,i),o(e,i-1),o(e,i+1),o(e+1,i),e%2==0?(o(e-1,i-1),o(e+1,i-1)):(o(e-1,i+1),o(e+1,i+1)))}},i=this.ballArray.length;e=i%2==0?10:11;for(var n=0;n<e;n++)0!=this.ballArray[i-1][n].color&&o(this.ballArray.length-1,n);for(var a=0;a<this.ballArray.length;a++)for(var c=function(t){var e=l.ballArray[a][t];e.isLinked||0==e.color||(e.node.getComponent(r.default).playDownAnimation(cc.v2(a,t)),e.color=0,e.second=0,e.isBall=!1,l.showscore(e.node)),l.scheduleOnce(function(){e.isVisited=!1,e.isLinked=!1},.4)},l=this,u=0;u<this.ballArray[a].length;u++)c(u);this.shoot.getComponent(s.default).initShoot(),this.moveMapData()},e.prototype.examineDian=function(t,e){this.ballArray[t]&&this.ballArray[t][e]&&7==this.ballArray[t][e].color&&(this.dianBallRemove=!0,this.dianBallPos.x=t,this.dianBallPos.y=e)},e.prototype.getDianBall=function(t){var e=t.x,o=t.y;this.examineDian(e+1,o),this.examineDian(e,o-1),this.examineDian(e,o+1),this.examineDian(e-1,o),e%2==0?(this.examineDian(e-1,o-1),this.examineDian(e+1,o-1)):(this.examineDian(e-1,o+1),this.examineDian(e+1,o+1))},e.prototype.mapDian=function(){var t=this.dianBallPos,e=this.ballArray[t.x][t.y],o=l.default.RowColToPos(t.x,t.y),i=e.node.convertToNodeSpaceAR(cc.v2(360,o.y));e.node.zIndex=100;var n=e.node.getChildByName("ani");n.x=i.x,n.getComponent(cc.Animation).on("finished",function(){n.getComponent(cc.Sprite).spriteFrame=null},this),n.getComponent(cc.Animation).play("dianAni"),l.default.count++;for(var a=0;a<this.ballArray[t.x].length;a++){var c=this.ballArray[t.x][a];0!=c.color&&(c.isVisited=!1,c.second=0,c.isBall=!1,c.color=0,c.node.getComponent(r.default).removeDian(),this.showscore(c.node))}u.AudioMg.dianAudio(),this.scheduleOnce(this.emptyDetection,.3)},e.prototype.mapCaiqiu=function(t){var e=this;if(u.AudioMg.eliminateAudio(),this.dianBallRemove)this.mapDian();else{var o=function(t,i,n){if(e.ballArray[t]&&e.ballArray[t][i]){var a=e.ballArray[t][i];!a.isVisited&&a.isBall&&0!=a.color&&a.color===n&&(a.isVisited=!0,t%2==0?(o(t-1,i-1,n),o(t-1,i,n),o(t,i-1,n),o(t,i+1,n),o(t+1,i-1,n),o(t+1,i,n)):(o(t-1,i,n),o(t-1,i+1,n),o(t,i-1,n),o(t,i+1,n),o(t+1,i,n),o(t+1,i+1,n)))}};this.ballArray[t.x][t.y].isVisited=!0;var i=t.x,n=t.y;i%2==0?0==n?(o(i-1,n,this.ballArray[i-1][n].color),o(i,n+1,this.ballArray[i][n+1].color),o(i+1,n,this.ballArray[i+1][n].color)):10==n?(o(i-1,n-1,this.ballArray[i-1][n-1].color),o(i,n-1,this.ballArray[i][n-1].color),o(i+1,n-1,this.ballArray[i+1][n-1].color)):(o(i-1,n-1,this.ballArray[i-1][n-1].color),o(i-1,n,this.ballArray[i-1][n].color),o(i,n-1,this.ballArray[i][n-1].color),o(i,n+1,this.ballArray[i][n+1].color),o(i+1,n-1,this.ballArray[i+1][n-1].color),o(i+1,n,this.ballArray[i+1][n].color)):(o(i-1,n,this.ballArray[i-1][n].color),o(i-1,n+1,this.ballArray[i-1][n+1].color),o(i+1,n,this.ballArray[i+1][n].color),o(i+1,n+1,this.ballArray[i+1][n+1].color),0==n?o(i,n+1,this.ballArray[i][n+1].color):9==n?o(i,n-1,this.ballArray[i][n-1].color):(o(i,n-1,this.ballArray[i][n-1].color),o(i,n+1,this.ballArray[i][n+1].color)));for(var a=0,c=[],s=0;s<this.ballArray.length;s++)for(var d=0;d<this.ballArray[s].length;d++)0!=this.ballArray[s][d].color&&this.ballArray[s][d].isVisited&&(this.ballArray[s][d].isVisited=!1,a++,c.push(cc.v2(s,d)));if(a>=1){l.default.count++;var p=function(t){var e=h.ballArray[c[t].x][c[t].y];h.showscore(e.node),e.isVisited=!1,e.second=0,e.isBall=!1,e.node.getComponent(r.default).playDeathAnimation(e.color),h.scheduleOnce(function(){e.color=0},.15),h.scheduleOnce(function(){e.node.getComponent(r.default).removeSelf()},.15)},h=this;for(var f in c)p(f);this.scheduleOnce(this.emptyDetection,.2)}}},e.prototype.openzhadan=function(t,e){if(this.ballArray[t]&&this.ballArray[t][e]&&0!=this.ballArray[t][e].color){this.showscore(this.ballArray[t][e].node);var o=this.ballArray[t][e];0!=o.color&&(o.color=0,o.node.getComponent(r.default).removeSelf("bomb"),o.isVisited=!1,o.second=0,o.isBall=!1)}},e.prototype.mapBomb=function(t){l.default.count++,this.comboShow();var e=t.x,o=t.y;this.openzhadan(e-2,o-1),this.openzhadan(e-2,o),this.openzhadan(e-2,o+1),this.openzhadan(e-1,o-1),this.openzhadan(e-1,o),this.openzhadan(e-1,o+1),this.openzhadan(e,o-2),this.openzhadan(e,o-1),this.openzhadan(e,o+1),this.openzhadan(e,o+2),this.openzhadan(e+1,o-1),this.openzhadan(e+1,o),this.openzhadan(e+1,o+1),this.openzhadan(e+2,o-1),this.openzhadan(e+2,o),this.openzhadan(e+2,o+1),e%2==0?(this.openzhadan(e+1,o-2),this.openzhadan(e-1,o-2)):(this.openzhadan(e+1,o+2),this.openzhadan(e-1,o+2)),this.scheduleOnce(this.emptyDetection,.4)},e.prototype.showscore=function(t){var e=5*l.default.count+5,o=cc.instantiate(this.score);this.node.addChild(o),o.position=t.position,o.getChildByName("add").getComponent(cc.Label).string=e+"",l.default.score=parseInt(this.defen.string)+e,this.defen.string=l.default.score.toString()},e.prototype.getsecond=function(){for(var t=this.getLeastRow(),e=[],o=0;o<this.ballArray[t].length;o++){var i=this.ballArray[t][o].color;if(0!=i&&i<6)if(0==e.length)e.push(i);else{for(var n=0,a=0;a<e.length;a++)e[a]!=i&&n++;n==e.length&&e.push(i)}}var r=l.default.randNum(1,10);if(0==e.length)return l.default.randNum(1,5);if(l.default.score<50)return e[l.default.randNum(0,e.length-1)];if(l.default.score<5e3){if(r<=1)return l.default.randNum(1,5)}else if(l.default.score<15e3){if(r<=2)return l.default.randNum(1,5)}else if(l.default.score<25e3){if(r<=3)return l.default.randNum(1,5)}else if(l.default.score<35e3){if(r<=4)return l.default.randNum(1,5)}else if(r<=5)return l.default.randNum(1,5);return e[l.default.randNum(0,e.length-1)]},e.prototype.getLeastRow=function(){for(var t,e=0,o=0;o<this.ballArray.length;o++){t=0;for(var i=0;i<this.ballArray[o].length;i++)0!=this.ballArray[o][i].color&&t++,0!=t&&0==e&&(e=o)}return e},e.prototype.getRow=function(){for(var t=0,e=0;e<this.ballArray.length;e++)for(var o=0,i=0;i<this.ballArray[e].length;i++)if(0==this.ballArray[e][i].color&&o++,o>=this.ballArray[e].length){t++;break}return l.default.ballLength-t},e.prototype.addRowData=function(){if(l.default.surplusRow=this.getRow(),l.default.surplusRow<30){var t;t=0==l.default.randNum(0,1)?1:3,l.default.surplusRow+=this.mapData[t].json.data.length,l.default.ballLength=l.default.ballLength+this.mapData[t].json.data.length;for(var e=this.ballArray.length,o=this.mapData[t].json.data,i=0;i<o.length;i++){this.ballArraySec[i]=[];for(var n=0;n<o[i].length;n++){var a=cc.instantiate(this.ballPre),c=l.default.RowColToPos(i+e,n);a.getComponent(r.default).init(this,c,o[i][n]);var s=o[i][n],u=Object.create(null);u.node=a,u.color=l.default.mathSurplus(s,10),u.second=l.default.mathQuotient(s,10),u.isVisited=!1,u.isLinked=!1,0==u.color?u.isBall=!1:u.isBall=!0,this.ballArraySec[i][n]=u}}var d=this.ballArray.concat(this.ballArraySec);this.ballArray=d}},e.prototype.update=function(){var t=this;l.default.useFireBall&&(l.default.count++,this.comboShow(),l.default.useFireBall=!1,this.scheduleOnce(function(){t.emptyDetection()},.1)),l.default.topBall&&(l.default.topBall=!1,this.shoot.getComponent(s.default).initShoot())},a([h(cc.Node)],e.prototype,"comboPage",void 0),a([h(cc.Label)],e.prototype,"defen",void 0),a([h(cc.Node)],e.prototype,"shoot",void 0),a([h(cc.Prefab)],e.prototype,"score",void 0),a([h(cc.JsonAsset)],e.prototype,"mapDataTest",void 0),a([h(cc.JsonAsset)],e.prototype,"mapData",void 0),a([h(cc.Prefab)],e.prototype,"ballPre",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../common/ListSpfs":"ListSpfs","../prefab/ball":"ball","./shoot":"shoot","./util":"util"}],closeBtn:[function(t,e,o){"use strict";cc._RF.push(e,"ac099GRlUVO2JO/w9vDjQDL","closeBtn");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.closeBtnClick=function(){r.AudioMg.buttonAudio(),this.node.parent.destroy()},a([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../audio/AudioManage":"AudioManage"}],failPage:[function(t,e,o){"use strict";cc._RF.push(e,"3649cY7i49AgIJxTZ85R92l","failPage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../common/HashMap"),s=t("../common/Utils"),l=t("../game/util"),u=t("../gameScene"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=[],e.robotHead=null,e.FBRobotName=["Jacky","Pony","Andy","Leon","Jay","Felix","Lisa","Rose","Tom","Mike","Mark","Bill","Cindy","Chris","Ken","Elsa","Harry","Jim","Linda","Nancy"],e.mainNodes=new c.HashMap,e}return n(e,t),e.prototype.start=function(){this.mainNodes=s.Utils.nodeTreeInfoLite(this.node);var t=u.default.Data.score;this.mainNodes.get("failDefen").getComponent(cc.Label).string=t.toString()},e.prototype.replayBtn=function(){r.AudioMg.buttonAudio(),l.default.clearData(),l.default.chongwan=!0,this.scheduleOnce(function(){cc.director.loadScene("game")},.1)},e.prototype.inviteBtn=function(){r.AudioMg.buttonAudio()},e.prototype.challengeBtn=function(){r.AudioMg.buttonAudio()},e.prototype.shareBtn=function(){r.AudioMg.buttonAudio()},a([h(cc.Node)],e.prototype,"item",void 0),a([h(cc.SpriteAtlas)],e.prototype,"robotHead",void 0),a([p],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../common/HashMap":"HashMap","../common/Utils":"Utils","../game/util":"util","../gameScene":"gameScene"}],fireBall:[function(t,e,o){"use strict";cc._RF.push(e,"10097/qqB9F6ZnkGMT463Be","fireBall");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../game/util"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.getChildByName("ani").getComponent(cc.Animation).play()},e.prototype.onBeginContact=function(t,e,o){"wall"==o.node._name&&1==o.tag&&(e.node.getChildByName("bombAni").getComponent(cc.Animation).play(),c.default.useFireBall=!0,r.AudioMg.fireCloseAudio(),this.scheduleOnce(function(){e.node.destroy()},.05))},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../game/util":"util"}],gameScene:[function(t,e,o){"use strict";cc._RF.push(e,"f11f3HrEv9AjaVCj6cwHudl","gameScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./audio/Audio"),c=t("./audio/AudioManage"),s=t("./common/DataManage"),l=t("./common/HashMap"),u=t("./common/ModuleManager"),d=t("./common/Utils"),p=t("./game/util"),h=cc._decorator,f=h.ccclass,g=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rankingSprite=[],e.inviteSprite=[],e.challengeSprite=[],e.mainNodes=new l.HashMap,e}var o;return n(e,t),o=e,Object.defineProperty(e,"Data",{get:function(){return o.module.dataMg},enumerable:!1,configurable:!0}),Object.defineProperty(e,"rNode",{get:function(){return cc.find("Canvas")},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.mainNodes=d.Utils.nodeTreeInfoLite(this.node),o.audio=new r.AudioManager,o.module=new u.ModuleManager,o.module.dataMg&&(o.module.dataMg.destory(),o.module.dataMg.unwatchTargetAll(this),o.module.dataMg=null),o.module.dataMg=new s.default,p.default.chongwan||(o.Data.music?c.AudioMg.gamePlayBgm():c.AudioMg.gameCloseBgm())},e.prototype.start=function(){this.mainNodes.get("speedNum").getComponent(cc.Label).string=(100*p.default.speed).toString()},e.prototype.speedBtn=function(t,e){var o=parseInt(e);p.default.speed=p.default.speed+o/100;var i=100*p.default.speed;this.mainNodes.get("speedNum").getComponent(cc.Label).string=i.toPrecision(3).toString()},e.audio=null,e.module=null,a([g(cc.SpriteFrame)],e.prototype,"rankingSprite",void 0),a([g(cc.SpriteFrame)],e.prototype,"inviteSprite",void 0),a([g(cc.SpriteFrame)],e.prototype,"challengeSprite",void 0),o=a([f],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./audio/Audio":"Audio","./audio/AudioManage":"AudioManage","./common/DataManage":"DataManage","./common/HashMap":"HashMap","./common/ModuleManager":"ModuleManager","./common/Utils":"Utils","./game/util":"util"}],interface:[function(t,e,o){"use strict";cc._RF.push(e,"02229bnprBGsJQiAAdVDB41","interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],loading:[function(t,e,o){"use strict";cc._RF.push(e,"eeb5d9Him9PTq9PKiiUCMVB","loading");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../common/HashMap"),s=t("../common/Utils"),l=cc._decorator,u=l.ccclass,d=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadimg=null,e.load=null,e.startBtn=null,e.lastPercent=0,e.mainNodes=new c.HashMap,e}return n(e,t),e.prototype.start=function(){this.mainNodes=s.Utils.nodeTreeInfoLite(this.node),cc.resources.loadDir("",this.progressCallback.bind(this),this.completeCallBack.bind(this))},e.prototype.startBtnClick=function(){var t=this;r.AudioMg.buttonAudio(),this.scheduleOnce(function(){t.node.x=-1e3},.15)},e.prototype.settingBtnClick=function(){r.AudioMg.buttonAudio(),this.mainNodes.get("setting").active=!0},e.prototype.progressCallback=function(t,e){var o=t/e*100,i=Math.floor(o);i>this.lastPercent&&(this.lastPercent=i),this.load.string=this.lastPercent+"%"},e.prototype.completeCallBack=function(){console.log("LOADING"),this.loadimg.active=!1,this.startBtn.active=!0},a([d(cc.Node)],e.prototype,"loadimg",void 0),a([d(cc.Label)],e.prototype,"load",void 0),a([d(cc.Node)],e.prototype,"startBtn",void 0),a([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../common/HashMap":"HashMap","../common/Utils":"Utils"}],pause:[function(t,e,o){"use strict";cc._RF.push(e,"5f7b948tfxGXKEX1lfrfbye","pause");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("../game/util"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.versionLab=null,e}return n(e,t),e.prototype.start=function(){this.versionLab.string="2023011200"},e.prototype.continueBtn=function(){r.AudioMg.buttonAudio(),c.default.gamePause=!1,this.node.destroy()},e.prototype.replayBtn=function(){r.AudioMg.buttonAudio(),c.default.clearData(),c.default.chongwan=!0,this.scheduleOnce(function(){cc.director.loadScene("game")},.1)},e.prototype.inviteBtn=function(){r.AudioMg.buttonAudio()},e.prototype.challengeBtn=function(){r.AudioMg.buttonAudio()},e.prototype.shareBtn=function(){r.AudioMg.buttonAudio()},a([u(cc.Label)],e.prototype,"versionLab",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../game/util":"util"}],relive:[function(t,e,o){"use strict";cc._RF.push(e,"75c7cvW8QdOHpD2ynlNUkb3","relive");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../gameScene"),c=t("./bg"),s=cc._decorator,l=s.ccclass,u=s.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noReliveBtnNode=null,e.timeDown=null,e.restTime=10,e.currentTime=0,e}return n(e,t),e.prototype.start=function(){this.timeDown.string="10",this.begainTimeDown()},e.prototype.begainTimeDown=function(){var t=this;this._timeIndex&&clearInterval(this._timeIndex),this._timeIndex=setInterval(function(){t.currentTime++,t.timeDown||t._timeIndex&&clearInterval(t._timeIndex),t.timeDown.string=10-t.currentTime+"",3==t.currentTime&&(t.noReliveBtnNode.active=!0),10==t.currentTime&&(t._timeIndex&&clearInterval(t._timeIndex),t.gameFailed())},1e3)},e.prototype.reliveBtnClick=function(){this._timeIndex&&(r.default.Data.FBReward||r.default.Data.FBRewardInter)&&(console.log("\u5173\u95ed\u5b9a\u65f6\u5668"),clearInterval(this._timeIndex)),this.node.destroy(),r.default.rNode.getChildByName("bg").getComponent(c.default).ReliveSuc()},e.prototype.nothanksBtnClick=function(){this.node.destroy(),this._timeIndex&&clearInterval(this._timeIndex),this.gameFailed()},e.prototype.gameFailed=function(){this._timeIndex&&clearInterval(this._timeIndex),r.default.rNode.getChildByName("bg").getComponent(c.default).addFailPage(),this.node.destroy()},a([u(cc.Node)],e.prototype,"noReliveBtnNode",void 0),a([u(cc.Label)],e.prototype,"timeDown",void 0),a([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../gameScene":"gameScene","./bg":"bg"}],score:[function(t,e,o){"use strict";cc._RF.push(e,"cbf345Kb0JGnJ8cEfhQHyQo","score");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){var t=this;cc.tween(this.node).to(0,{scale:0}).to(.3,{scale:1.2}).to(.1,{scale:1}).parallel(cc.tween().by(1,{position:cc.v2(0,60)}),cc.tween().to(1,{opacity:0})).call(function(){t.node.destroy()}).start()},a([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],shootBall:[function(t,e,o){"use strict";cc._RF.push(e,"5c5f9TRVKhNvYQD9WcDk3S0","shootBall");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../common/ListSpfs"),c=t("../game/util"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t,e){t.addChild(this.node),this.node.getComponent(r.default).setSpf(e)},e.prototype.onBeginContact=function(t,e,o){"wall"==o.node._name&&1==o.tag&&(c.default.topBall=!0,e.node.destroy())},a([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../common/ListSpfs":"ListSpfs","../game/util":"util"}],shoot:[function(t,e,o){"use strict";cc._RF.push(e,"1ffe5OkbqZGCYGMcu1FPtrP","shoot");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./util"),c=t("../common/ListSpfs"),s=t("../audio/AudioManage"),l=t("../common/HashMap"),u=t("../common/Utils"),d=t("./bubbleNode"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bubbleNode=null,e.caiBall=null,e.fireBall=null,e.bombBall=null,e.graphic_line=null,e.shootBall=null,e.shoot1=null,e.shoot2=null,e.exchangeBtn=null,e.fireBallNode=null,e.colorBallNode=null,e.bombBallNode=null,e.fireBallNodeAdd=null,e.colorBallNodeAdd=null,e.bombBallNodeAdd=null,e.fireBallLab=null,e.colorBalLab=null,e.bombBalLab=null,e.color1=0,e.color2=0,e.colorBallNum=1,e.fireBallNum=1,e.bombBallNum=1,e.lineColor=["#D80a07","#E3C90a","#187AF8","#4CC606","#D633E4","#FF5800","#000000","#FFFD23"],e.lineColor1=["#FF5800","#000000","#FFFD23"],e.mainNodes=new l.HashMap,e._cur_length=0,e._cur_length1=0,e._cur_length2=0,e.updateTime=0,e}return n(e,t),e.prototype.start=function(){this.mainNodes=u.Utils.nodeTreeInfoLite(this.node),this.initShoot(),this.openTouch()},e.prototype.openTouch=function(){this.graphic_line.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.graphic_line.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.graphic_line.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.graphic_line.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.closeTouch=function(){this.graphic_line.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.graphic_line.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.graphic_line.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.graphic_line.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.initShoot=function(){r.default.shooting=!1,0!=r.default.count&&r.default.count%10==0?(this.caiqiuAni(),this.color1=102,this.mainNodes.get("ballSprite1").active=!1,this.mainNodes.get("specialBall1").active=!0,this.mainNodes.get("specialBall1").getComponent(c.default).setSpf(2)):(0!=this.color2?(this.color1=this.color2,this.color2=0):this.color1=this.bubbleNode.getComponent(d.default).getsecond(),this.basicsAni(),this.mainNodes.get("specialBall1").active=!1,this.mainNodes.get("ballSprite1").active=!0,this.mainNodes.get("ballSprite1").getComponent(c.default).setSpf(this.color1)),0!=this.color1&&this.initShoot1(),this.openTouch()},e.prototype.basicsAni=function(){this.shootNull();var t=this.mainNodes.get("basicsAni");t.getComponent(c.default).setSpf(this.color1),cc.tween(t).by(3,{angle:360}).repeatForever().start()},e.prototype.caiqiuAni=function(){this.shootNull();var t=this.mainNodes.get("caiqiuAni"),e=this.mainNodes.get("caiqiuAni1"),o=this.mainNodes.get("caiqiuAni2");t.getComponent(c.default).setSpf(0),e.getComponent(c.default).setSpf(0),o.getComponent(c.default).setSpf(0),cc.tween(t).by(4,{angle:-360}).repeatForever().start(),cc.tween(e).by(5,{angle:360}).repeatForever().start(),cc.tween(o).by(6,{angle:-360}).repeatForever().start()},e.prototype.initShoot1=function(){this.color2=this.bubbleNode.getComponent(d.default).getsecond(),this.mainNodes.get("ballSprite2").getComponent(c.default).setSpf(this.color2)},e.prototype.shootNull=function(t){void 0===t&&(t=!0),t&&(this.mainNodes.get("basicsAni").getComponent(cc.Sprite).spriteFrame=null),this.mainNodes.get("caiqiuAni").getComponent(cc.Sprite).spriteFrame=null,this.mainNodes.get("caiqiuAni1").getComponent(cc.Sprite).spriteFrame=null,this.mainNodes.get("caiqiuAni2").getComponent(cc.Sprite).spriteFrame=null},e.prototype.shootPlay=function(t){var e=cc.v2(1500*t.x,1500*t.y);this.closeTouch(),r.default.shooted=!0,r.default.shooting||r.default.gameOver||(this.mainNodes.get("ballSprite1").getComponent(cc.Sprite).spriteFrame=null,this.shootNull(),this.color1>99?(this.mainNodes.get("ballSprite1").getComponent(c.default).setSpf(0),this.mainNodes.get("main_shoot_3").getComponent(cc.Button).enabled=!0,this.mainNodes.get("ballSprite1").active=!1,this.mainNodes.get("specialBall1").active=!1,100==this.color1?(s.AudioMg.fireAudio(),this.shoot1.addChild(cc.instantiate(this.fireBall)),this.shoot1.getChildByName("fireBall").getComponent(cc.RigidBody).linearVelocity=e):101==this.color1?(s.AudioMg.shootAudio(),this.shoot1.addChild(cc.instantiate(this.bombBall)),this.shoot1.getChildByName("bombBall").getComponent(cc.RigidBody).linearVelocity=e):102==this.color1&&(s.AudioMg.shootAudio(),this.shoot1.addChild(cc.instantiate(this.caiBall)),this.shoot1.getChildByName("caiBall").getComponent(cc.RigidBody).linearVelocity=e)):(this.mainNodes.get("ballSprite1").active=!0,this.mainNodes.get("specialBall1").active=!1,s.AudioMg.shootAudio(),this.shoot1.addChild(cc.instantiate(this.shootBall)),this.shoot1.getChildByName("shootBall").active=!0,this.shoot1.getChildByName("shootBall").getComponent(c.default).setSpf(this.color1),this.shoot1.getChildByName("shootBall").getComponent(cc.RigidBody).linearVelocity=e))},e.prototype.exchangeBall=function(t){var e=this;if(!(this.color1>99)){s.AudioMg.exchangeButtonAudio(),this.exchangeBtn.runAction(cc.rotateBy(.2,180)),t.target.getComponent(cc.Button).enabled=!1,this.mainNodes.get("ballSprite1").runAction(cc.moveTo(.1,cc.v2(-35,-55))),this.mainNodes.get("ballSprite2").runAction(cc.moveTo(.1,cc.v2(35,55)));var o=this.color1;this.color1=this.color2,this.color2=o,this.mainNodes.get("ballSprite1").getComponent(c.default).setSpf(this.color1),this.mainNodes.get("ballSprite2").getComponent(c.default).setSpf(this.color2),this.scheduleOnce(function(){e.mainNodes.get("ballSprite1").runAction(cc.moveTo(.1,cc.v2(0,0))),e.mainNodes.get("ballSprite2").runAction(cc.moveTo(.1,cc.v2(0,0)))},.1),this.scheduleOnce(function(){e.basicsAni(),t.target.getComponent(cc.Button).enabled=!0},.2)}},e.prototype.getShootV2=function(){return this.shoot1.children[0].convertToWorldSpaceAR(cc.v2(0,0))},e.prototype.getTouch=function(t){var e=cc.Camera.main;return t.getLocation().addSelf(e.node.getPosition())},e.prototype.getTouchVoid=function(t){this.getTouch(t).y<this.getShootV2().y+40?this.graphic_line.node.opacity=0:this.graphic_line.node.opacity=255,this.graphic_line.clear(),this._cur_length=0,this._cur_length1=0,this._cur_length2=0;var e=this.getShootV2(),o=this.getTouch(t),i=cc.v2(e.x-32.5,e.y),n=cc.v2(o.x-32.5,o.y),a=cc.v2(e.x+32.5,e.y),r=cc.v2(o.x+32.5,o.y);this.drawRayCast2(a,r.subSelf(a).normalizeSelf()),this.drawRayCast1(i,n.subSelf(i).normalizeSelf()),this.drawRayCast(e,o.subSelf(e).normalizeSelf()),this.graphic_line.stroke()},e.prototype.hex2color=function(t){var e=t.replace(/^#?/,"0x"),o=parseInt(e),i=o>>16,n=(65280&o)>>8,a=255&o;return cc.color(i,n,a,255)},e.prototype.onTouchStart=function(t){var e;r.default.touching=!0,this.touchV=t,this.graphic_line.clear(),e=this.color1>=100?this.hex2color(this.lineColor1[this.color1-100]):this.hex2color(this.lineColor[this.color1-1]),this.graphic_line.strokeColor=e,this.graphic_line.fillColor=e,this.getTouchVoid(t)},e.prototype.onTouchMove=function(t){this.getTouchVoid(t)},e.prototype.onTouchEnd=function(t){r.default.touching=!1;var e=this.getTouch(t),o=e.x-this.getShootV2().x,i=e.y-this.getShootV2().y,n=Math.atan2(i,o),a=cc.misc.radiansToDegrees(n);a-=90;var c=cc.misc.degreesToRadians(a),s=cc.v2(-Math.sin(c),Math.cos(c));e.y<this.getShootV2().y+40||this.shootPlay(s),this.graphic_line.clear()},e.prototype.drawRayCast=function(t,e){var o,i;0!=r.default.lineLength1&&0!=r.default.lineLength2&&((i=r.default.lineLength)>r.default.lineLength1?(i=r.default.lineLength1)>r.default.lineLength2&&(i=r.default.lineLength2):i=r.default.lineLength2);var n=i-this._cur_length;if(r.default.lineLength=i,!(n<=0)){var a=t.add(e.mul(n)),c=cc.director.getPhysicsManager().rayCast(t,a,cc.RayCastType.Closest);if(c.length>0){var s=c[0];o=s.collider.tag,s.point.y+=4;var l=s.point;this.drawAimLine(t,l,!0);var u=l.sub(t).mag();this._cur_length+=u;var d=s.normal,p=e,h=p.sub(d.mul(2*p.dot(d)));if(99==o)return void(r.default.lineLength=this._cur_length);this.drawRayCast(l,h)}else this.drawAimLine(t,a,!0)}},e.prototype.drawRayCast1=function(t,e){var o,i=1e3-this._cur_length1;if(!(i<=0)){var n=t.add(e.mul(i)),a=cc.director.getPhysicsManager().rayCast(t,n,cc.RayCastType.Closest);if(a.length>0){var c=a[0];o=c.collider.tag;var s=c.point;this.drawAimLine(t,s);var l=s.sub(t).mag();this._cur_length1+=l;var u=c.normal,d=e,p=d.sub(u.mul(2*d.dot(u)));if(99==o)return void(r.default.lineLength1=this._cur_length1);this.drawRayCast1(s,p)}else this.drawAimLine(t,n)}},e.prototype.drawRayCast2=function(t,e){var o,i=1e3-this._cur_length2;if(!(i<=0)){var n=t.add(e.mul(i)),a=cc.director.getPhysicsManager().rayCast(t,n,cc.RayCastType.Closest);if(a.length>0){var c=a[0];o=c.collider.tag;var s=c.point;this.drawAimLine(t,s);var l=s.sub(t).mag();this._cur_length2+=l;var u=c.normal,d=e,p=d.sub(u.mul(2*d.dot(u)));if(99==o)return void(r.default.lineLength2=this._cur_length2);this.drawRayCast2(s,p)}else this.drawAimLine(t,n)}},e.prototype.drawAimLine=function(t,e,o){void 0===o&&(o=!1);var i=this.graphic_line.node.convertToNodeSpaceAR(t);this.graphic_line.moveTo(i.x,i.y);var n=e.sub(t),a=Math.round(n.mag()/25);n.normalizeSelf().mulSelf(25);for(var r=0;r<a;r++)i.addSelf(n),o&&this.graphic_line.circle(i.x,i.y,4)},e.prototype.update=function(t){this.updateTime+=t,r.default.touching&&this.updateTime>1&&(this.updateTime=0,this.getTouchVoid(this.touchV))},e.prototype.fireButton=function(t,e){if(console.log("====>"),"0"==this.fireBallLab.string)this.fireBallNodeAdd.active=!1,this.fireBallLab.string="1",this.fireBallNode.color=cc.color(255,255,255);else{this.mainNodes.get("ballSprite1").active=!1,this.mainNodes.get("specialBall1").active=!0,this.fireBallNodeAdd.active=!0,this.addAni(this.fireBallNodeAdd),this.fireBallLab.string="0",this.fireBallNode.color=cc.color(99,99,99);var o=parseInt(e);this.color1=o,this.mainNodes.get("fireAni").active=!0,this.mainNodes.get("fireAni").getComponent(cc.Animation).play()}},e.prototype.bombButton=function(t,e){if(this.mainNodes.get("fireAni").active=!1,"0"==this.bombBalLab.string)this.bombBallNodeAdd.active=!1,this.bombBalLab.string="1",this.bombBallNode.color=cc.color(255,255,255);else{this.mainNodes.get("ballSprite1").active=!1,this.mainNodes.get("specialBall1").active=!0,this.mainNodes.get("specialBall1").getComponent(c.default).setSpf(1),this.bombBallNodeAdd.active=!0,this.addAni(this.bombBallNodeAdd),this.bombBalLab.string="0",this.bombBallNode.color=cc.color(99,99,99);var o=parseInt(e);this.color1=o}},e.prototype.caiqiuButton=function(t,e){if(this.mainNodes.get("fireAni").active=!1,"0"==this.colorBalLab.string)this.colorBallNodeAdd.active=!1,this.colorBalLab.string="1",this.colorBallNode.color=cc.color(255,255,255);else{this.colorBalLab.string="0",this.colorBallNode.color=cc.color(99,99,99),this.colorBallNodeAdd.active=!0,this.addAni(this.colorBallNodeAdd);var o=parseInt(e);this.color1=o,this.mainNodes.get("ballSprite1").active=!1,this.mainNodes.get("specialBall1").active=!0,this.mainNodes.get("specialBall1").getComponent(c.default).setSpf(o-100),this.caiqiuAni()}},e.prototype.gm=function(t,e){var o=parseInt(e);this.color1=o,this.mainNodes.get("ballSprite1").getComponent(c.default).setSpf(o)},e.prototype.addAni=function(t){t.stopAllActions(),t.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.1,1.1),cc.scaleTo(.1,1),cc.scaleTo(.1,1.1),cc.scaleTo(.1,1),cc.delayTime(.8))))},a([f(cc.Node)],e.prototype,"bubbleNode",void 0),a([f(cc.Prefab)],e.prototype,"caiBall",void 0),a([f(cc.Prefab)],e.prototype,"fireBall",void 0),a([f(cc.Prefab)],e.prototype,"bombBall",void 0),a([f(cc.Graphics)],e.prototype,"graphic_line",void 0),a([f(cc.Prefab)],e.prototype,"shootBall",void 0),a([f(cc.Node)],e.prototype,"shoot1",void 0),a([f(cc.Node)],e.prototype,"shoot2",void 0),a([f(cc.Node)],e.prototype,"exchangeBtn",void 0),a([f(cc.Node)],e.prototype,"fireBallNode",void 0),a([f(cc.Node)],e.prototype,"colorBallNode",void 0),a([f(cc.Node)],e.prototype,"bombBallNode",void 0),a([f(cc.Node)],e.prototype,"fireBallNodeAdd",void 0),a([f(cc.Node)],e.prototype,"colorBallNodeAdd",void 0),a([f(cc.Node)],e.prototype,"bombBallNodeAdd",void 0),a([f(cc.Label)],e.prototype,"fireBallLab",void 0),a([f(cc.Label)],e.prototype,"colorBalLab",void 0),a([f(cc.Label)],e.prototype,"bombBalLab",void 0),a([h],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../common/HashMap":"HashMap","../common/ListSpfs":"ListSpfs","../common/Utils":"Utils","./bubbleNode":"bubbleNode","./util":"util"}],tipsNode:[function(t,e,o){"use strict";cc._RF.push(e,"3f3dfuYLotL4qHOT0yMDHYu","tipsNode");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noAds=null,e.noAdsPrefab=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onWaringAdsNotReady=function(t){var e=cc.instantiate(this.noAdsPrefab);this.node.addChild(e),e.getComponent(cc.Sprite).spriteFrame=this.noAds;var o=e.getComponent(cc.Animation);o.on("stop",function(){this.destroy(),t&&t()},e),o.play()},a([s(cc.SpriteFrame)],e.prototype,"noAds",void 0),a([s(cc.Prefab)],e.prototype,"noAdsPrefab",void 0),a([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],util:[function(t,e,o){"use strict";cc._RF.push(e,"70790QUUr1BR5lsPhNmLURy","util"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.RowColToPos=function(t,e){var o=this.BUBBLE_R*(t%2+1)+e*this.BUBBLE_R*2,i=this.BUBBLE_R+t*this.BUBBLE_Y;return cc.v3(o+2.5,i)},t.PosToRowCol=function(t,e){t>=this.SCREEN_W&&(t=710),t<=2.5&&(t=10),t-=2.5;var o=Math.round((e-this.BUBBLE_R)/this.BUBBLE_Y),i=Math.round((t-this.BUBBLE_R*(o%2+1))/(2*this.BUBBLE_R));return o%2!=0&&(-1==i&&(i=0),10==i&&(i=9)),cc.v3(o,i)},t.mathQuotient=function(t,e){return Math.trunc(t/e)},t.mathSurplus=function(t,e){return t%e},t.randNum=function(t,e){return t+Math.floor((e-t+1)*Math.random())},t.randNum2=function(t,e,o){if(o>e-t)return!1;var i=e-t,n=t+1,a=[];return function t(e){for(;e<o;e++){var r=Math.random(),c=Math.floor(r*i+n);if(-1!=a.indexOf(c)){t(e);break}a.push(c)}}(0),a},t.getShareBase64=function(t,e,o){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=t,i.height=e;var a=o.getTexture().getHtmlElementObj();return n.drawImage(a,0,0),i.toDataURL("image/png")},t.Base64SpriteFarme=function(t){var e=t,o=new Image;o.crossOrigin="anonymous",o.src=e;var i=new cc.Texture2D;i.initWithElement(o);var n=new cc.SpriteFrame;return n.setTexture(i),n},t.clearData=function(){t.shooting=!1,t.shooted=!1,t.touching=!1,t.useFireBall=!1,t.count=0,t.score=0,t.gameOver=!1,t.gamePause=!1,t.warning=!1,t.topBall=!1,t.speed=.38,t.ballLength=41,t.surplusRow=0,t.lineLength=1e3,t.lineLength1=1e3,t.lineLength2=1e3,t.reliveNum=0,t.testGm=!1},t.SCREEN_W=715,t.BUBBLE_R=32.5,t.BUBBLE_Y=32.5*Math.sqrt(3),t.shooting=!1,t.shooted=!1,t.touching=!1,t.useFireBall=!1,t.count=0,t.score=0,t.gameOver=!1,t.gamePause=!1,t.warning=!1,t.warningY=100,t.ScreenH=0,t.ScreenW=0,t.XH=0,t.topBall=!1,t.speed=.6,t.ballLength=41,t.surplusRow=0,t.lineLength=1e3,t.lineLength1=1e3,t.lineLength2=1e3,t.reliveNum=0,t.reliveH=-400,t.reliveIng=!1,t.playGame=!1,t.chongwan=!1,t.moveOpen=!0,t.testGm=!1,t}();o.default=i,cc._RF.pop()},{}],voice:[function(t,e,o){"use strict";cc._RF.push(e,"7b33bMszwRMmLlacTWHSODM","voice");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,i){var n,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(a<3?n(r):a>3?n(e,o,r):n(e,o))||r);return a>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../audio/AudioManage"),c=t("./HashMap"),s=t("./Utils"),l=t("../gameScene"),u=cc._decorator,d=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainNodes=new c.HashMap,e}return n(e,t),e.prototype.start=function(){this.mainNodes=s.Utils.nodeTreeInfoLite(this.node),this.musicState(),this.soundState()},e.prototype.musicState=function(){l.default.Data.music?(this.mainNodes.get("music_on").active=!0,this.mainNodes.get("music_off").active=!1,this.mainNodes.get("btn_music").x=65):(this.mainNodes.get("music_on").active=!1,this.mainNodes.get("music_off").active=!0,this.mainNodes.get("btn_music").x=165)},e.prototype.musicBtnClick=function(t,e){r.AudioMg.buttonAudio(),"on"==e?(this.mainNodes.get("music_on").active=!1,this.mainNodes.get("music_off").active=!0,this.moveWay(this.mainNodes.get("btn_music"),100),l.default.Data.music=!1,l.default.Data.music=s.Utils.Clone(l.default.Data.music),r.AudioMg.gameCloseBgm()):(this.mainNodes.get("music_on").active=!0,this.mainNodes.get("music_off").active=!1,this.moveWay(this.mainNodes.get("btn_music"),-100),l.default.Data.music=!0,l.default.Data.music=s.Utils.Clone(l.default.Data.music),r.AudioMg.gamePlayBgm())},e.prototype.soundState=function(){l.default.Data.sound?(this.mainNodes.get("sound_on").active=!0,this.mainNodes.get("sound_off").active=!1,this.mainNodes.get("btn_sound").x=65):(this.mainNodes.get("sound_on").active=!1,this.mainNodes.get("sound_off").active=!0,this.mainNodes.get("btn_sound").x=165)},e.prototype.soundBtnClick=function(t,e){r.AudioMg.buttonAudio(),"on"==e?(this.mainNodes.get("sound_on").active=!1,this.mainNodes.get("sound_off").active=!0,this.moveWay(this.mainNodes.get("btn_sound"),100),l.default.Data.sound=!1,l.default.Data.sound=s.Utils.Clone(l.default.Data.sound)):(this.mainNodes.get("sound_on").active=!0,this.mainNodes.get("sound_off").active=!1,this.moveWay(this.mainNodes.get("btn_sound"),-100),l.default.Data.sound=!0,l.default.Data.sound=s.Utils.Clone(l.default.Data.sound))},e.prototype.moveWay=function(t,e){t.runAction(cc.moveBy(.1,cc.v2(e,0)))},a([d],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../audio/AudioManage":"AudioManage","../gameScene":"gameScene","./HashMap":"HashMap","./Utils":"Utils"}]},{},["Audio","AudioImp","AudioManage","DataBase","DataManage","HashMap","ListSpfs","ModuleManager","Utils","closeBtn","voice","gameScene","bg","bubbleNode","interface","relive","shoot","tipsNode","util","GameViewModel","MVVM","Observer","failPage","loading","pause","ball","bombBall","fireBall","score","shootBall"]);